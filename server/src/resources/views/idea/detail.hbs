
<div class="container">
    <ul class="list-group">
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <div class="fw-bold">{{ideas.title}}</div>
            </div>
            <span class="badge bg-primary rounded-pill">Ask question</span>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-start">
            <div class="ms-2 me-auto">
                <p>
                    {{ideas.description}}
                </p>
                <img class="rounded float-right" src="{{ideas.image}}">
                <br>
                <a href="{{ideas.file}}">{{ideas.file}}</a>
            </div> 
            
        </li>
              
    </ul>
   
    <br>
            <form class="like" data-id="{{ideas._id}}">
                <button type="submit">Like</button>
                </form>
  |
            <form class="dislike" data-id="{{ideas._id}}">
                <button type="submit">DisLike</button>
            </form>
            <p>{{ideas.voteScore}}</p>

{{!Comment}}
<<<<<<< Updated upstream
    <form method="POST" action="/idea/{{ideas._id}}/comment" >
        <textarea class='form-control' name="content" placeholder="Comment"></textarea>
    <br>
            <button type="submit" class="btn btn-primary">Save</button>
    </form>

{{!show comment}}
    {{#each ideas.comments}}
    <br>    
        <p>{{this.content}}</p>
            <p class="text-right">{{this.author.username}}</p>
=======
<form method="POST" action="/idea/doComment" >
<textarea class='form-control' name="content" placeholder="Comment"></textarea>
<input type="hidden" id="title" name="title" value="{{ideas.title}}">
    <br>
  <button type="submit" class="btn btn-primary">Save</button>
</form>

<!--<div class="container">-->
<!--    <form method="POST" action="/idea/doComment" onsubmit="doComment(this);">-->
<!--        <div class="form-group">-->
<!--             <label for="comment">Leave a comment</label>-->
<!--             <textarea class="form-control" rows="5" id="comment" name="content"></textarea>-->
<!--        </div>-->
<!--        <div class="form-group">-->
<!--            <input type="hidden" id="_id" name="username" value="{{value._id}}">-->
<!--        </div>-->
<!--        <button type="submit" class="btn btn-primary">Submit</button>-->
<!--    </form>-->
<!--</div>-->

{{!show comment}}

    {{#each ideas}}
    <br>
        <p>{{this.comments.content}}</p>
>>>>>>> Stashed changes
    <br>
    {{/each}}
</div>
    <div>
        </div>
            </div>


<script
  src="https://code.jquery.com/jquery-3.5.0.js"
  integrity="sha256-r/AaFHrszJtwpe+tHyNi/XCfMxYpbsRg2Uqn0x3s2zc="
  crossorigin="anonymous"></script>
<script>
   $(document).ready(function() {
  $('.like').submit(function(e) {
    e.preventDefault();

    const ideaID = $(this).data('id');
    $.ajax({
      type: 'PUT',
      url: ideaID + '/like',
      success: function(data) {
        console.log('voted up!');
      },
      error: function(err) {
        console.log(err.messsage);
      }
    });
  });

  $('.dislike').submit(function(e) {
    e.preventDefault();

    const ideaID = $(this).data('id');
    $.ajax({
      type: 'PUT',
      url:  ideaID + '/dislike',
      success: function(data) {
        console.log('voted down!');
      },
      error: function(err) {
        console.log(err.messsage);
      }
    });
  });
});

</script>

 




